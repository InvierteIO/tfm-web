<div class="d-flex justify-content-center pb-3">
  <img
    src="./assets/img/property/example-aparments.jpg"
    alt="Portada la etapa"
    class="project-image"/>
</div>

<div class="row justify-content-center">
  <div class="col-xl-8 col-lg-10 col-md-11 col-sm-12">
  <form  [formGroup]="form" (ngSubmit)="save()" >
    <h2 class="mb-4 subtitle-tp-h2 io-green-primary">Datos Principales</h2>
    <div class="row">
      <div class="col-xl-6 col-lg-6 col-sm-12 mb-3">
        <label for="project_name" class="form-label text-tp-h3">Nombre del proyecto</label>
        <input type="text" class="form-control input-s4" id="project_name" formControlName="project_name"
               placeholder="Ingrese nombre" [maxLength]="100"/>
        <div *ngIf="isFieldNotValid('project_name')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('project_name') | formErrorMessages:'Nombre del proyecto'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
      <div class="col-xl-6 col-lg-6 col-sm-12 mb-3">
        <label for="office_address" class="form-label text-tp-h3">Dirección de oficina</label>
        <input type="text"
          class="form-control input-s4"
          id="office_address" formControlName="office_address"
          placeholder="Ingrese dirección oficina" [maxLength]="200"/>
        <div *ngIf="isFieldNotValid('office_address')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('office_address') | formErrorMessages:'Direccion de oficina'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xl-6 col-lg-6 col-sm-12 mb-3">
        <label for="office_number" class="form-label text-tp-h3">Número de oficina</label>
        <input type="text" class="form-control input-s4" id="office_number" formControlName="office_number"
               placeholder="Ingrese numero de oficina" [maxLength]="6"/>
        <div *ngIf="isFieldNotValid('office_number')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('office_number') | formErrorMessages:'Número de oficina'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
      <div class="col-xl-6 col-lg-6 col-sm-12 mb-3">
        <label for="supervisor" class="form-label text-tp-h3">Encargado del proyecto</label>
        <input type="text"
               class="form-control input-s4"
               id="supervisor" formControlName="supervisor"
               placeholder="Ingrese nombre del encargado del proyecto" [maxLength]="200"/>
        <div *ngIf="isFieldNotValid('supervisor')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('supervisor') | formErrorMessages:'encargado'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <label for="description" class="form-label text-tp-h3">Descripción</label>
        <textarea type="text" id="description" class="form-control textarea-s1" formControlName="description"
                  placeholder="Describe brevemente" [maxLength]="500" [rows]="3"></textarea>
      </div>
    </div>
    <h2 class="my-4 subtitle-tp-h2 io-green-primary">Ubicación del proyecto</h2>
    <div class="row">
      <div class="col-12 mb-3">
        <label for="address" class="form-label text-tp-h3">Dirección</label>
        <input type="text" class="form-control input-s4" id="address" formControlName="address"
               placeholder="Ingrese dirección" [maxLength]="200"/>
        <div *ngIf="isFieldNotValid('address')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('address') | formErrorMessages:'dirección'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3 mb-3">
        <label for="zipcode" class="form-label text-tp-h3">Código postal</label>
        <input type="text" class="form-control input-s4" id="zipcode"  formControlName="zipcode"
               placeholder="Ingrese código postal"
               [maxLength]="8" [minLength]="6"/>
        <div *ngIf="isFieldNotValid('zipcode')" class="d-flex flex-column">
          <small *ngFor="let msg of form.get('zipcode') | formErrorMessages:'dirección'"
                 class="text-danger font-italic">{{ msg }}</small>
        </div>
      </div>
    </div>

    <app-button-loading
      type="submit"
      [btnClasses]="'btn d-block mx-auto mt-3 btn-width300 h37 btn-s4 button-tp br5'"
      [loading]="loading"
      msgLoading="Cargando..."
      msgButton="Guardar proyecto"/>
  </form>
</div>
</div>
