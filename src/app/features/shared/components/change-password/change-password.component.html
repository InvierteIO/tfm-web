<div class="d-flex align-items-center justify-content-center mt-3" *ngIf="loading">
  <app-loading></app-loading>
</div>
<div class="d-flex justify-content-center align-items-center" style="min-height: 50vh;">
  <div class="col-12 col-lg-6">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="oldpassword" class="form-label profile-label">Actual Contraseña</label>
        <input type="password" class="form-control" id="oldpassword"
               placeholder="Ingrese su contraseña actual"
               formControlName="oldpassword" [maxlength]="50">
        <div *ngIf="isOldPasswordNotValid">
          <small *ngIf="formCurrent?.['oldpassword']?.errors?.['required']" class="text-danger font-italic">
            La contraseña es requerido
          </small>
          <small *ngIf="formCurrent?.['oldpassword']?.errors?.['maxlength']" class="text-danger font-italic">
            La longitud máxima es de 50 carácteres
          </small>
          <small *ngIf="formCurrent?.['oldpassword']?.errors?.['minlength']" class="text-danger font-italic">
            La longitud mínima es de 4 carácteres
          </small>
        </div>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label profile-label">Contraseña</label>
        <input type="password" class="form-control" id="password"
               placeholder="Ingrese su contraseña"
               formControlName="password" [maxlength]="50">
        <div *ngIf="isPasswordNotValid">
          <small *ngIf="formCurrent?.['password']?.errors?.['required']" class="text-danger font-italic">
            La contraseña es requerido
          </small>
          <small *ngIf="formCurrent?.['password']?.errors?.['maxlength']" class="text-danger font-italic">
            La longitud máxima es de 50 carácteres
          </small>
          <small *ngIf="formCurrent?.['password']?.errors?.['minlength']" class="text-danger font-italic">
            La longitud mínima es de 4 carácteres
          </small>
        </div>
      </div>
      <div class="mb-3">
        <label for="repeatedpwd" class="form-label profile-label">Confirmar contraseña</label>
        <input type="password" class="form-control" id="repeatedpwd" placeholder="Ingrese su contraseña"
               formControlName="repeatedpwd">
        <small class="text-danger" *ngIf="isRepeatedpwdNotValid">
          El password no coincide.
        </small>
      </div>

      <div class="d-flex justify-content-end align-items-center pt-3">
        <app-button-loading
          class=""
          type="submit"
          [btnClasses]="'btn btn-s4 button-tp d-flex justify-content-center align-items-center'"
          [loading]="loading"
          msgLoading="Cargando..."
          msgButton="Guardar"
        >
        </app-button-loading>
      </div>
    </form>
  </div>
</div>

